<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Guide for message exchange -</title>
    <link rel="icon" href="../../assets/favicon.ico">
    <link rel="stylesheet" href="../../common/tulli-bootstrap-style.css" type="text/css" />
    <link rel="prefetch" href="../../common/datarequirements.html" type="text/html" />
</head>

<body class="guidelines">

    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <span class="navbar-text">Guide for message exchange version </span>
            </div>
        </div>
        <!-- /.container -->
    </nav>
    <!-- /.navbar -->

    <header>
        <div class="upper">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 col-sm-12 col-xs-12">
                        <a class="" href="../index.html">
                            <img class="img-responsive pull-left" src="../../assets/images/logo-tulli.svg" alt="Finnish Customs logotype" /></a>

                        <button type="button" class="navbar-toggle collapsed pull-right margin-0" data-toggle="collapse" data-target="#navbar-mainmenu" aria-expanded="false" aria-controls="navbar-mainmenu">
                            <span class="sr-only">Menu</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div class="col-md-9 col-sm-12 col-xs-12">
                        <nav id="navbar-mainmenu" role="menu" class="mainmenu collapse navbar-collapse">
                            <ul class="nav nav-pills">
                                <li>
                                    <a href="../index.html">Home</a>
                                </li>
                                <li class='current'>
                                    <a class='current' href="messageexchange.html">Guide for message exchange</a>
                                </li>
                                <li>
                                    <a href="datamodel.html">Class diagram</a>
                                </li>
                                <li>
                                    <a href="datarequirements.html">Data requirements</a>
                                </li>
                                <li>
                                    <a href="codes.html">Codes</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>

        <div class="lower">
            <div class="container">
                <div class="row">
                    <div class="col-xs-10">
                        <h1>Guide for message exchange</h1>
                    </div>
                    <div class="col-xs-2">
                        <button type="button" class="navbar-toggle collapsed pull-right padding-0 margin-0" data-toggle="collapse" data-target="#nav-sidebar" aria-expanded="false" aria-controls="nav-sidebar">
                            <span class="sr-only">Menu</span>
                            <span class="icon icon-tulli-chevron-down icon-blue"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="main-content-area">

        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-3 sidebar" role="complementary">
                    <nav id="nav-sidebar" class="hidden-print collapse navbar-collapse" data-spy="affix" data-offset-top="210" style="width: 270px">
                        <ul class="nav nav-stacked">
                            <li class="active">
                                <a href="#messages">Messages</a>
                            </li>
                            <li>
                                <a href="#usecases">Use cases</a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <div class="col-md-9 col-sm-9 col-xs-12" role="main">
                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                    </div>
                </div>
            </div>
        </div>

    </div>

    <footer>
        <div class="container">
            <div class="row">
                &copy; Tulli 2018
	
            </div>
        </div>
    </footer>
    <!-- Bootstrap core JavaScript
================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></script>
    <script src='../../assets/javascripts/vendor/jquery.js'></script>
    <script>
		$(document).ready(function(){
			$.ajax({
				url: '../../common/intro.xml',
				type: 'GET',
				dataType: 'xml',
				success: function(returnedXMLResponse){
					$('System', returnedXMLResponse).each(function(){
						var system = $(this).text();
                        $(".pageheader").append(system);
                        $(".navbar-text").append(system + " ");
                        document.title += " " + system;
					})
					$('CurrentVersion', returnedXMLResponse).each(function(){
						var version = $(this).text();
                        $(".navbar-text").append(version + " ");
					})
					$('Generated', returnedXMLResponse).each(function(){
						var date = new Date($(this).text());
                        date = date.toLocaleDateString("en-GB");
                        $(".navbar-text").append(date);
					})
				}  // End Success
			}); // End AJAX
		});
	</script>    <script>
      function loadXML(url) {
           return new Promise(function(resolve) {
             var req = new XMLHttpRequest();
             req.open("GET", url);
             if (typeof XSLTProcessor === 'undefined') {
               try {
                 req.responseType = 'msxml-document';
               }
               catch (e) {}
             }
             req.onload = function() {
               resolve(this.responseXML)
             }
             req.send();
           });
      }
      
      function transform(xmlUrl, xslUrl,targetElement) {
        Promise.all([loadXML(xmlUrl), loadXML(xslUrl)]).then(function(data) {
          var xmlDoc = data[0];
          var xslDoc = data[1];
          
          if (typeof XSLTProcessor !== 'undefined') {
            var proc = new XSLTProcessor();
            proc.importStylesheet(xslDoc);
            
            var resultFrag = proc.transformToFragment(xmlDoc, targetElement.ownerDocument);
            
            targetElement.textContent = '';
            targetElement.appendChild(resultFrag);
          }
          else {
              var template = new ActiveXObject('Msxml2.XslTemplate.6.0');
              template.stylesheet = xslDoc;
              var proc = template.createProcessor();
              
              proc.input = xmlDoc;
              
              proc.transform();
              
              var resultHTML = proc.output;
              
              targetElement.innerHTML = resultHTML;
          }
        });
      }
      document.addEventListener('DOMContentLoaded', function() {
        transform('../../common/messageexchange.xml', 'messageexchange.xsl', document.getElementById('accordion'));      
      })
    </script>
    <script src='../../assets/javascripts/bootstrap.js'></script>

    <script src='../../assets/javascripts/custom-ui.js'></script>

    <script>

	$(function() {

	});

</script>

</body>
</html>
