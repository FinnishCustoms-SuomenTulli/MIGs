<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Message Implementing Guidelines - </title>
    <link rel="icon" href="../../assets/favicon.ico">
    <link rel='stylesheet' href='../../assets/tulli-bootstrap-style.css'>
    <link rel='stylesheet' href='../../assets/tulli-mig-index.css'>
    <script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></script>
</head>

<body class="Site">

    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <span class="navbar-text">Message Implementing Guidelines - </span>
                <a class="navbar-text" href="../fi/index.html">Suomi</a>
                <a class="navbar-text" href="../sv/index.html">Svenska</a>
            </div>
        </div>
        <!-- /.container -->
    </nav>
    <!-- /.navbar -->

    <header>
        <div class="upper">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 col-sm-4 col-xs-12">
                        <a class="" href="index.html">
                            <img src="../../assets/images/logo-tulli.svg" alt="Finnish Customs logotype" /></a>
                    </div>
                    <div class="col-md-9 col-sm-8 col-xs-12">
                        <h1 class="pageheader">Message Implementing Guidelines - </h1>
                        <i>Draft version</i>
                    </div>
                </div>
            </div>
        </div>

        <div class="lower">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
            </div>
        </div>
        <script>
            function OpenModal() {
                $("#myModal").modal("show");
            }
        </script>
    </header>
    <main class="Site-content">
        <div class="main-content-area">

            <div class="container" role="main">
                <div class="row">

                    <div class="col-md-7">
                        <nav class="front-navigation panel panel-default">
                            <div class="panel-heading">
                                <h2 class="panel-title">
						<a name="mainmenu">Sections</a>
					</h2>
                            </div>

                            <ul class="nav row">

                                <li class="col-md-6 col-sm-6 col-xs-12">
                                    <a class="media" href="pages/datarequirements.html">
                                        <div class="media-left media-middle" style="background: #00205b;">
                                            <span class="media-object icon-white icon-md icon icon-tulli-hamburger-menu"></span>
                                        </div>
                                        <div class="media-body media-middle">
                                            <h3 class="media-heading">Data requirements</h3>
                                            <div class="description">Detailed descriptions of the data contents of messages in communication between economic operators and Customs.</div>
                                        </div>
                                    </a>
                                </li>

                                <li class="col-md-6 col-sm-6 col-xs-12">
                                    <a class="media" href="pages/messageexchange.html">
                                        <div class="media-left media-middle" style="background: #00205b;">
                                            <span class="media-object icon-white icon-md icon icon-tulli-hamburger-menu"></span>
                                        </div>
                                        <div class="media-body media-middle">
                                            <h3 class="media-heading">Guide for message exchange</h3>
                                            <div class="description">Details regarding the message exchange between economic operators and Customs.</div>
                                        </div>
                                    </a>
                                </li>

                                <li class="col-md-6 col-sm-6 col-xs-12">
                                    <a class="media" href="pages/datamodel.html">
                                        <div class="media-left media-middle" style="background: #00205b;">
                                            <span class="media-object icon-white icon-sm icon icon-tulli-hamburger-menu"></span>
                                        </div>
                                        <div class="media-body media-middle">
                                            <h3 class="media-heading">Class diagram</h3>
                                            <div class="description">UML diagram detailing the relations between the various data on the messages.</div>
                                        </div>
                                    </a>
                                </li>

                                <li class="col-md-6 col-sm-6 col-xs-12">
                                    <a class="media" href="pages/codes.html">
                                        <div class="media-left media-middle" style="background: #00205b;">
                                            <span class="media-object icon-white icon-md icon icon-tulli-hamburger-menu"></span>
                                        </div>
                                        <div class="media-body media-middle">
                                            <h3 class="media-heading">Codes</h3>
                                            <div class="description">Code lists and codes used in message exchange between economic operators and Customs.</div>
                                        </div>
                                    </a>
                                </li>

                                <li class="col-md-6 col-sm-6 col-xs-12">
                                    <a class="media">
                                        <div class="media-left media-middle" style="background: #00205b;">
                                            <span class="media-object icon-white icon-md icon icon-tulli-hamburger-menu"></span>
                                        </div>
                                        <div class="media-body media-middle" style="background: #dddddd;">
                                            <h3 class="media-heading">XML schemas</h3>
                                            <div class="description">XML schemas used by Customs for validation of messages used in message exchange between economic operators and Customs.</div>
                                        </div>
                                    </a>
                                </li>

                                <li class="col-md-6 col-sm-6 col-xs-12">
                                    <a class="media">
                                        <div class="media-left media-middle" style="background: #00205b;">
                                            <span class="media-object icon-white icon-md icon icon-tulli-hamburger-menu"></span>
                                        </div>
                                        <div class="media-body media-middle" style="background: #dddddd;">
                                            <h3 class="media-heading">XML examples</h3>
                                            <div class="description">Examples of messages used in message exchange between economic operators and Customs.</div>
                                        </div>
                                    </a>
                                </li>

                            </ul>
                        </nav>
                    </div>

                    <div class="col-md-5">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h2 class="panel-title">
						<a name="mainmenu">Version history</a>
					</h2>
                            </div>
                            <div class="panel-body" id="history">

                            </div>
                        </div>
                    </div>

                    <div class="col-md-5">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h2 class="panel-title">
						<a name="mainmenu">Version notes</a>
					</h2>
                            </div>
                            <div class="panel-body">
                                <p>This version introduces a new layout for providing message implementing guidelines to trade. The data requirements for the messages released earlier are largely unchanged, with only minor corrections of discovered errors. Three new messages (Presentation notification for EIDR and its amendment and a bill of discharge message) have been added. The guide for message exchange has also been updated with new use cases. It has been discovered that the provisional message numbering is partially misaligned with the message numbering defined at the EU Commission level. The numbering will be aligned in a future release.</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h2 class="panel-title">
						<a name="mainmenu">Technical instructions</a>
					</h2>
                            </div>
                            <div class="panel-body">
                                <p>The message flow and data requirements are based on the Union Customs Code (UCC) of the European Union and more closely on the data requirement tables in the Delegated and Implementing Acts (UCC DA and IA respectively) and the <a href="https://svn.taxud.gefeg.com/svn/Documentation/EUCDM/EN/index.htm"><span class="icon icon-tulli-external"></span>EU customs data model 
                        (EUCDM)</a> defined therein, but are amended to meet the national requirements. Whenever possible, the messages are mapped to the EUCDM and the underlying <a href="http://www.wcoomd.org/en/topics/facilitation/instrument-and-tools/tools/data-model.aspx"><span class="icon icon-tulli-external"></span>World Customs Organization Data Model (WCO DM) version 3.7.0</a>. It is possible, that the messages will need to be amended, when further mapping projects against the WCO DM are undertaken to maximize compatibility of the messages between the different member states.</p>
                                <p></p>
                                <p>The messages are sent by using XML (eXtensible Mark-up Language) syntax.</p>
                                <p>One interchange includes one message only.</p>
                                <p>Messages must conform to the XML specifications provied. If a message includes additional data and this does not cause an error message, the Finnish Customs processes the message as if the additional data was not included in the message.</p>
                                <h4>Class diagram and data requirements</h4>
                                <p>Dates and times are declared with time zone information. If no time zone information is provided Finnish time (EET/EEST) is assumed. Dates and times are formatted according to XML specifications, corresponding to ISO standard 8601. For example:</p>
                                <pre>2010-09-29
2012-02-29T12:30:05
1997-07-16T19:20:30.45+01:00</pre>
                                <p>Further information on declaring dates can be found e.g. at: <a href="http://www.w3.org/TR/NOTE-datetime"><span class="icon icon-tulli-external"></span>http://www.w3.org/TR/NOTE-datetime</a>.</p>
                                <h5>Format</h5>
                                <p>The data and length is in the column &quot;Format&quot;. The codes for the different types of data are:</p>
                                <table class="table table-responsive table-condensed introduction-table">
                                    <tr>
                                        <td>a</td>
                                        <td>alphabetic</td>
                                    </tr>
                                    <tr>
                                        <td>n</td>
                                        <td>numeric</td>
                                    </tr>
                                    <tr>
                                        <td>an</td>
                                        <td>alphanumeric</td>
                                    </tr>
                                </table>
                                <p>The number after the code indicates the maximum length of the data entry. Two periods before the indication of the length means that the data entry is not of a determined length, but that it may include a number of characters up to the number indicated. A decimal between two numbers indicates that decimals are used and the second number indicates the maximum number of decimals. For example:</p>
                                <table class="table table-responsive table-condensed introduction-table">
                                    <tr>
                                        <td>an..35</td>
                                        <td>alphanumeric data up to 35 digits</td>
                                    </tr>
                                    <tr>
                                        <td>a2</td>
                                        <td>alphabetic data; 2 digits</td>
                                    </tr>
                                    <tr>
                                        <td>n..15,2</td>
                                        <td>numeric data up to 15 digits, including maximum 2 (floating) decimals</td>
                                    </tr>
                                </table>
                                <h5>Presentation (RDO)</h5>
                                <p>The codes for data presentation are:</p>
                                <table class="table table-responsive table-condensed introduction-table">
                                    <tr>
                                        <td>R</td>
                                        <td>required</td>
                                    </tr>
                                    <tr>
                                        <td>D</td>
                                        <td>dependant</td>
                                    </tr>
                                    <tr>
                                        <td>O</td>
                                        <td>optional</td>
                                    </tr>
                                </table>
                                <p>Numeric data is always positive, no plus sign (+) is sent. A period or a comma can be used for a decimal separator, Finnish Customs uses a comma. Leading zeros can be used, they are not used by the Finnish Customs.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
        <!-- Modal -->
        <div class="modal fade" id="browserWarning" tabindex="-1" role="dialog" aria-labelledby="modal-header-demo" data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title" id="modal-header-demo">Browser incompatibility detected</h1>
                    </div>
                    <div class="modal-body">
                        <p>Some features required for the full functionality of this page are not available on your current browser. Browsers known to work are: Google Chrome, Firefox, Safari, Edge and Internet Explorer 11 (on Windows 10).</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default remove-bottom" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="container">
            <div class="row">
                &copy; Tulli 2018

            </div>
        </div>
    </footer>
    <!-- Bootstrap core JavaScript
================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src='../../assets/javascripts/vendor/jquery.js'></script>
    <script>
        $(document).ready(function() {
            $.ajax({
                url: '../common/intro.xml',
                type: 'GET',
                dataType: 'xml',
                success: function(returnedXMLResponse) {
                        $('System[lang="en"]', returnedXMLResponse).each(function() {
                            var system = $(this).text();
                            $(".pageheader").append(system);
                            $(".navbar-text").append(system + " ");
                            document.title += " " + system;
                        })
                        $('CurrentVersion', returnedXMLResponse).each(function() {
                            var version = $(this).text();
                            $(".navbar-text").append(version + " ");
                        })
                        $('Generated', returnedXMLResponse).each(function() {
                            var date = new Date($(this).text());
                            date = date.toLocaleDateString("en-GB");
                            $(".navbar-text").append(date);
                        })
                    } // End Success
            }); // End AJAX
            var ua = window.navigator.userAgent;
            if ((ua.indexOf("MSIE ") != -1 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) && navigator.userAgent.match(/NT 6\.1/)) {
                $("#browserWarning").modal("show");
            }
        });
    </script>
    <script>
        function loadXML(url) {
            return new Promise(function(resolve) {
                var req = new XMLHttpRequest();
                req.open("GET", url);
                if (typeof XSLTProcessor === 'undefined') {
                    try {
                        req.responseType = 'msxml-document';
                    } catch (e) {}
                }
                req.onload = function() {
                    resolve(this.responseXML)
                }
                req.send();
            });
        }

        function transform(xmlUrl, xslUrl, targetElement) {
            Promise.all([loadXML(xmlUrl), loadXML(xslUrl)]).then(function(data) {
                var xmlDoc = data[0];
                var xslDoc = data[1];

                if (typeof XSLTProcessor !== 'undefined') {
                    var proc = new XSLTProcessor();
                    proc.importStylesheet(xslDoc);

                    var resultFrag = proc.transformToFragment(xmlDoc, targetElement.ownerDocument);

                    targetElement.textContent = '';
                    targetElement.appendChild(resultFrag);
                } else {
                    var template = new ActiveXObject('Msxml2.XslTemplate.6.0');
                    template.stylesheet = xslDoc;
                    var proc = template.createProcessor();

                    proc.input = xmlDoc;

                    proc.transform();
                    var resultHTML = proc.output;
                    console.log(resultHTML);
                    targetElement.innerHTML = resultHTML;
                }
            });
        }
        document.addEventListener('DOMContentLoaded', function() {
            transform('../common/intro.xml', 'history.xsl', document.getElementById('history'));
        })
    </script>
    <script src='../../assets/javascripts/bootstrap.js'></script>

    <script src='../../assets/javascripts/custom-ui.js'></script>

</body>

</html>