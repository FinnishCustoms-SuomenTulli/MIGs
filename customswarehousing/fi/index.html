<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Sanomakuvaukset - </title>
    <link rel="icon" href="../../assets/favicon.ico">
    <link rel='stylesheet' href='../common/tulli-bootstrap-style.css'>
    <link rel='stylesheet' href='../common/tulli-mig-index.css'>
    <script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></script>
</head>

<body class="Site">

    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <span class="navbar-text main-navbar">Sanomakuvaukset - </span>
                <a class="navbar-text" href="../../sv/index.html">Svenska</a>
                <a class="navbar-text" href="../../en/index.html">English</a>
            </div>
        </div>
        <!-- /.container -->
    </nav>
    <!-- /.navbar -->

    <header>
        <div class="upper">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 col-sm-4 col-xs-12">
                        <a class="" href="index.html">
                            <img src="../../assets/images/logo-tulli.svg" alt="Suomen tullin logo" /></a>
                    </div>
                    <div class="col-md-9 col-sm-8 col-xs-12">
                        <h1 class="pageheader">Sanomakuvaukset - </h1>
                        <i>Luonnos</i>
                    </div>
                </div>
            </div>
        </div>

        <div class="lower">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="Site-content">
      <div class="main-content-area">

<div class="container" role="main">
	<div class="row">
		
		<div class="col-md-7">
			<nav class="front-navigation panel panel-default">
				<div class="panel-heading">
					<h2 class="panel-title">
						<a name="mainmenu">Osiot</a>
					</h2>
				</div>
				
				<ul class="nav row">
					
					<li class="col-md-6 col-sm-6 col-xs-12">
						<a class="media" href="pages/messageexchange.html">
							<div class="media-left media-middle" style="background: #00205b;">
								<span class="media-object icon-white icon-md icon icon-tulli-measures"></span>
							</div>
							<div class="media-body media-middle">
								<h3 class="media-heading">Sanomaliikenneopas</h3>
								<div class="description">Kuvaus talouden toimijoiden ja Tullin v&#228;lisest&#228; sanomaliikenteest&#228;.</div>
							</div>
						</a>
					</li>
					
					<li class="col-md-6 col-sm-6 col-xs-12">
						<a class="media" href="pages/datarequirements.html">
							<div class="media-left media-middle" style="background: #00205b;">
								<span class="media-object icon-white icon-md icon icon-tulli-message"></span>
							</div>
							<div class="media-body media-middle">
								<h3 class="media-heading">Tietosis&#228;ll&#246;t</h3>
								<div class="description">Yksityiskohtaiset kuvaukset talouden toimijoiden ja Tullin v&#228;lisess&#228; sanomaliikenteess&#228; k&#228;ytett&#228;vien sanomien tietosis&#228;ll&#246;st&#228;.</div>
							</div>
						</a>
					</li>
					
					<li class="col-md-6 col-sm-6 col-xs-12">
						<a class="media" href="pages/datamodel.html">
							<div class="media-left media-middle" style="background: #00205b;">
								<span class="media-object icon-white icon-sm icon icon-tulli-service-fintaric"></span>
							</div>
							<div class="media-body media-middle">
								<h3 class="media-heading">Luokkakaavio</h3>
								<div class="description">UML-kaavio, jossa esitet&#228;&#228;n sanomilla olevien tietojen v&#228;liset yhteydet.</div>
							</div>
						</a>
					</li>
					
					<li class="col-md-6 col-sm-6 col-xs-12">
						<a class="media" href="pages/codes.html">
							<div class="media-left media-middle" style="background: #00205b;">
								<span class="media-object icon-white icon-md icon icon-tulli-hamburger-menu"></span>
							</div>
							<div class="media-body media-middle">
								<h3 class="media-heading">Koodit</h3>
								<div class="description">Talouden toimijoiden ja Tullin v&#228;lisess&#228; sanomaliikenteess&#228; k&#228;ytett&#228;v&#228;t koodistot ja koodit.</div>
							</div>
						</a>
					</li>
					
					<li class="col-md-6 col-sm-6 col-xs-12">
						<a class="media" href="demo-tabs.html">
							<div class="media-left media-middle" style="background: #00205b;">
								<span class="media-object icon-white icon-md icon icon-tulli-external"></span>
							</div>
							<div class="media-body media-middle" style="background: #dddddd;">
								<h3 class="media-heading">XML-skeemat</h3>
								<div class="description">XML-skeemat joita k&#228;ytet&#228;&#228;n talouden toimijoiden ja Tullin v&#228;lisess&#228; sanomaliikenteess&#228;.</div>
							</div>
						</a>
					</li>
					
					<li class="col-md-6 col-sm-6 col-xs-12">
						<a class="media" href="demo-tabs.html">
							<div class="media-left media-middle" style="background: #00205b;">
								<span class="media-object icon-white icon-md icon icon-tulli-external"></span>
							</div>
							<div class="media-body media-middle" style="background: #dddddd;">
								<h3 class="media-heading">XML-esimerkit</h3>
								<div class="description">Talouden toimijoiden ja Tullin v&#228;lisess&#228; sanomaliikenteess&#228; k&#228;ytett&#228;vien sanomien XML-muotoisia esimerkkej&#228;.</div>
							</div>
						</a>
					</li>

				</ul>
			</nav>
		</div>
		
		<div class="col-md-5">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h2 class="panel-title">
						<a name="mainmenu">Versiohistoria</a>
					</h2>
				</div>
				<div class="panel-body" id="history"></div>
			</div>
		</div>
		
		<div class="col-md-5">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h2 class="panel-title">
						<a name="mainmenu">Teknisi&#228; ohjeita</a>
					</h2>
				</div>
				<div class="panel-body">
                    <p>Sanomaliikenne ja tietosis&#228;ll&#246;t perustuvat Euroopan Unionin tullikoodeksiin (UTK) ja l&#228;hemmin sen delegoidussa ja soveltamisasetuksessa (UTK DA ja 
                        vastaavasti IA) tietosis&#228;lt&#246;taulukoihin sek&#228; niiss&#228; m&#228;&#228;riteltyyn 
                        <a href="https://svn.taxud.gefeg.com/svn/Documentation/EUCDM/EN/index.htm"><span class="icon icon-tulli-external"></span>EU:n tullitietomalliin (EUCDM)</a>, 
                        muoukattuina vastaamaan kansallisia tarpeita. Sanomat ovat mahdollisuuksien mukaan kuvattuna EUCDM:&#228;&#228; ja sen pohjalla olevaa 
                        <a href="http://www.wcoomd.org/en/topics/facilitation/instrument-and-tools/tools/data-model.aspx"><span class="icon icon-tulli-external"></span>
                        Maailman tullij&#228;rjest&#246;n tietomallin versiota 3.7.0</a> vastaan. On mahdollista, ett&#228; sanomia joudutaan jatkossa korjaamaan, kun uusia kuvausprojekteja WCO:n
                        tietomallia vastaan toteutetaan, jotta mahdollisestaan maksimaalinen yhteentoimivuus eri j&#228;senmaiden v&#228;lill&#228;.</p>
					<p></p>
                    <p>Sanomat l&#228;hetet&#228;&#228;n k&#228;ytt&#228;m&#228;ll&#228; xml-syntaksia (eXtensible Mark-up Language).</p>
					<p>Yksi l&#228;hetyskerta sis&#228;lt&#228;&#228; vain yhden sanoman.</p>
                    <p>Sanomien tulee vastata annettuja XML-m&#228;&#228;rityksi&#228;. Tiedot l&#228;hetet&#228;&#228;n aina k&#228;ytt&#228;en Suomen tullin laatimia m&#228;&#228;rityksi&#228;. Jos sanoma sis&#228;lt&#228;&#228; ylim&#228;&#228;r&#228;isi&#228; tietoja jotka eiv&#228;t johda virhesanoman luomiseen, k&#228;sittelee Tulli sanoman kuin ylim&#228;&#228;r&#228;isi&#228; tietoja ei olisi.</p>
                    <h4>Luokkamalli ja tietosis&#228;ll&#246;t</h4>
                    <p>P&#228;iv&#228;m&#228;&#228;r&#228;t ja ajat esitet&#228;&#228;n aikavy&#246;hyketiedolla. Jos aikavy&#246;hykett&#228; ei ilmoiteta, oletetaan ajan olevan Suomen aikavy&#246;hykkeen aika (EET/EEST). P&#228;iv&#228;m&#228;&#228;r&#228;t ja ajat esitet&#228;&#228;n XML-m&#228;ritysten mukaisina, jotka vastaavat ISO-standardia 8601. Esimerkiksi:</p>
                    <pre>2010-09-29
2012-02-29T12:30:05
1997-07-16T19:20:30.45+01:00</pre>
                    <p>Lis&#228;tietoja p&#228;iv&#228;m&#228;&#228;r&#228;n ilmoittamisesta l&#246;ytyy esimerkiksi osoitteesta: <a href="http://www.w3.org/TR/NOTE-datetime"><span class="icon icon-tulli-external"></span>http://www.w3.org/TR/NOTE-datetime</a>.</p>
                    <h5>Muoto</h5>
                    <p>Tiedon muoto ja pituus esitet&#228;&#228;n sarakkeessa &quot;Muoto&quot;. Eri tietomuotojen koodit ovat:</p>
                    <table class="table table-responsive table-condensed introduction-table">
                        <tr>
                            <td>a</td>
                            <td>aakkosellinen</td>
                        </tr>
                        <tr>
                            <td>n</td>
                            <td>numeerinen</td>
                        </tr>
                        <tr>
                            <td>an</td>
                            <td>aakkosnumeerinen</td>
                        </tr>
                    </table>
                    <p>Koodin j&#228;lkeinen numero ilmaisee tiedon maksimaalisen pituuden. Kaksi pistett&#228; ennen pituuden m&#228;&#228;ritelm&#228;&#228; tarkoittaa, ettei tiedolla ole kiinte&#228;&#228; pituutta, vaan ett&#228; tieto voi sis&#228;lt&#228;&#228; tietyn merkkim&#228;&#228;r&#228;n ilmoitettuun pituuteen asti. Pilkku numeroiden v&#228;liss&#228; tarkoittaa, ett&#228; desimaalit ovat sallittuja ja pilkun j&#228;lkeinen numero kertoo desimaalien enimm&#228;ism&#228;&#228;r&#228;n. Esimerkiksi:</p>
                    <table class="table table-responsive table-condensed introduction-table">
                        <tr>
                            <td>an..35</td>
                            <td>aakkosnumeerista tietoa enint&#228;&#228;n 35 merkki&#228;</td>
                        </tr>
                        <tr>
                            <td>a2</td>
                            <td>aakkosellista tietoa kaksi merkki&#228;</td>
                        </tr>
                        <tr>
                            <td>n..15,2</td>
                            <td>numeerista tietoa 15 merkkiin asti, mukaan lukien enint&#228;&#228;n 2 (liukuvaa) desimaalia</td>
                        </tr>
                    </table>
                    <h5>Esitt&#228;minen (RDO)</h5>
                    <p>Tiedon esitt&#228;misen koodit ovat:</p>
                    <table class="table table-responsive table-condensed introduction-table">
                        <tr>
                            <td>R</td>
                            <td>pakollinen</td>
                        </tr>
                        <tr>
                            <td>D</td>
                            <td>ehdollinen</td>
                        </tr>
                        <tr>
                            <td>O</td>
                            <td>vapaaehtoinen</td>
                        </tr>
                    </table>
                    <p>Numeerinen tieto on aina positiivista, plusmerkki&#228; (+) ei l&#228;hetet&#228;. Pilkkua ja pistett&#228; voi-daan molempia k&#228;ytt&#228;&#228; desimaalierottimena, Suomen tulli k&#228;ytt&#228;&#228; pilkkua. Etunollia voi k&#228;ytt&#228;&#228;, Suomen tulli ei niit&#228; k&#228;yt&#228;.</p>
				</div>
			</div>
		</div>

	</div>
</div>

</div>
        </main>
    <footer>
        <div class="container">
            <div class="row">
                &copy; Tulli 2018
	
            </div>
        </div>
    </footer>
    <!-- Bootstrap core JavaScript
================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src='../../assets/javascripts/vendor/jquery.js'></script>
    <script>
		$(document).ready(function(){
			$.ajax({
				url: '../common/intro.xml',
				type: 'GET',
				dataType: 'xml',
				success: function(returnedXMLResponse){
					$('System[lang="fi"]', returnedXMLResponse).each(function(){
						var system = $(this).text();
                        $(".pageheader").append(system);
                        $(".main-navbar").append(system + " ");
                        document.title += " " + system;
					})
					$('CurrentVersion', returnedXMLResponse).each(function(){
						var version = $(this).text();
                        $(".main-navbar").append(version + " ");
					})
					$('Generated', returnedXMLResponse).each(function(){
						var date = new Date($(this).text());
                        date = date.toLocaleDateString("fi-FI");
                        $(".main-navbar").append(date);
					})
				}  // End Success
			}); // End AJAX
		});
    </script>
    <script>
      function loadXML(url) {
           return new Promise(function(resolve) {
             var req = new XMLHttpRequest();
             req.open("GET", url);
             if (typeof XSLTProcessor === 'undefined') {
               try {
                 req.responseType = 'msxml-document';
               }
               catch (e) {}
             }
             req.onload = function() {
               resolve(this.responseXML)
             }
             req.send();
           });
      }
      
      function transform(xmlUrl, xslUrl,targetElement) {
        Promise.all([loadXML(xmlUrl), loadXML(xslUrl)]).then(function(data) {
          var xmlDoc = data[0];
          var xslDoc = data[1];
          
          if (typeof XSLTProcessor !== 'undefined') {
            var proc = new XSLTProcessor();
            proc.importStylesheet(xslDoc);

            var resultFrag = proc.transformToFragment(xmlDoc, targetElement.ownerDocument);
          
            targetElement.textContent = '';
            targetElement.appendChild(resultFrag);
          }
          else {
              var template = new ActiveXObject('Msxml2.XslTemplate.6.0');
              template.stylesheet = xslDoc;
              var proc = template.createProcessor();
              
              proc.input = xmlDoc;
              
              proc.transform();
              var resultHTML = proc.output;
              console.log(resultHTML);
              targetElement.innerHTML = resultHTML;
          }
        });
      }
      document.addEventListener('DOMContentLoaded', function() {
        transform('../common/intro.xml', 'history.xsl', document.getElementById('history'));      
      })
    </script>
    <script src='../../assets/javascripts/bootstrap.js'></script>

    <script src='../../assets/javascripts/custom-ui.js'></script>

</body>
</html>
